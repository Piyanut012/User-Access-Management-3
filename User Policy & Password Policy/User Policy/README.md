<br>
# User Policy

เมื่อมีการสร้างผู้ใช้ใหม่ โปรแกรม adduser จะสร้างโฟลเดอร์หลักใหม่ที่ชื่อ /home/username โปรไฟล์เริ่มต้นจะถูกสร้างโดยใช้เนื้อหาที่พบในไดเรกทอรี /etc/skel ซึ่งรวมถึงพื้นฐานของโปรไฟล์ทั้งหมด

หากเซิร์ฟเวอร์ของคุณมีผู้ใช้หลายคน คุณควรให้ความสำคัญกับสิทธิ์ในโฟลเดอร์หลักของผู้ใช้เพื่อให้มั่นใจในเรื่องความลับ โดยค่าเริ่มต้นโฟลเดอร์หลักของผู้ใช้ใน Ubuntu ถูกสร้างด้วยสิทธิ์อ่านและดำเนินการโลก ซึ่งหมายความว่าผู้ใช้ทุกคนสามารถเรียกดูและเข้าถึงเนื้อหาในโฟลเดอร์หลักของผู้ใช้คนอื่นได้ นี่อาจไม่เหมาะสำหรับสภาพแวดล้อมของคุณ

เพื่อทำการตรวจสอบสิทธิ์โฟลเดอร์หลักของผู้ใช้ปัจจุบัน ให้ใช้ไวยากรณ์ต่อไปนี้:

ls -ld /home/username
ผลลัพธ์ต่อไปนี้แสดงว่าไดเรกทอรี /home/username มีสิทธิ์สามารถอ่านได้โลก:

drwxr-xr-x 2 username username 4096 2007-10-02 20:03 username
คุณสามารถลบสิทธิ์ที่อ่านได้โลกโดยใช้ไวยากรณ์ต่อไปนี้:

sudo chmod 0750 /home/username
หมายเหตุ

บางคนมักจะใช้ตัวเลือก recursive (-R) โดยไม่เลือกสระล้างโดยไม่คำนึงถึงผลลัพธ์ แต่นี่ไม่จำเป็นและอาจทำให้ได้ผลลัพธ์ที่ไม่พึงประสงค์ โฟลเดอร์หลักควรเพียงอย่างเดียวเพื่อป้องกันการเข้าถึงที่ไม่ได้รับอนุญาตในสิ่งใดที่อยู่ใต้โฟลเดอร์หลัก

วิธีการที่มีประสิทธิภาพมากขึ้นในเรื่องนี้คือการปรับเปลี่ยนสิทธิ์โดยประเทศใน adduser ที่เป็นค่าเริ่มต้นเมื่อสร้างโฟลเดอร์โฮมของผู้ใช้ ง่ายๆ ให้แก้ไขไฟล์ /etc/adduser.conf และปรับแก้ตัวแปร DIR_MODE เป็นสิ่งที่เหมาะสม โดยที่โฟลเดอร์โฮมใหม่ทั้งหมดจะได้รับสิทธิ์ที่ถูกต้อง

DIR_MODE=0750
หลังจากที่แก้ไขสิทธิ์ของไดเรกทอรีโดยใช้เทคนิคใดเทคนิคหนึ่งที่กล่าวถึงไว้ข้างต้น ให้ทำการตรวจสอบผลลัพธ์โดยใช้ไวยากรณ์ต่อไปนี้:

ls -ld /home/username
ผลลัพธ์ด้านล่างแสดงว่าสิทธิ์ที่อ่านได้โลกได้ถูกลบ:

drwxr-x--- 2 username username 4096 2007-10-02 20:03 username
